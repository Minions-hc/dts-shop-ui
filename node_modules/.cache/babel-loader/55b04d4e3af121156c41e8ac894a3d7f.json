{"remainingRequest":"C:\\dts-shop\\admin-ui\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!C:\\dts-shop\\admin-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\dts-shop\\admin-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\dts-shop\\admin-ui\\src\\views\\promotion\\articleCreate.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\dts-shop\\admin-ui\\src\\views\\promotion\\articleCreate.vue","mtime":1714111780000},{"path":"C:\\dts-shop\\admin-ui\\babel.config.js","mtime":1714111780000},{"path":"C:\\dts-shop\\admin-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742308433329},{"path":"C:\\dts-shop\\admin-ui\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1742308433476},{"path":"C:\\dts-shop\\admin-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742308433329},{"path":"C:\\dts-shop\\admin-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1742308445120}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9kdHMtc2hvcC9hZG1pbi11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQuanMiKS5kZWZhdWx0OwpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiKTsKdmFyIF9hcnRpY2xlID0gcmVxdWlyZSgiQC9hcGkvYnVzaW5lc3MvYXJ0aWNsZSIpOwp2YXIgX3N0b3JhZ2UgPSByZXF1aXJlKCJAL2FwaS9idXNpbmVzcy9zdG9yYWdlIik7CnZhciBfdGlueW1jZVZ1ZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQHRpbnltY2UvdGlueW1jZS12dWUiKSk7CnZhciBfZWxlbWVudFVpID0gcmVxdWlyZSgiZWxlbWVudC11aSIpOwp2YXIgX2F1dGggPSByZXF1aXJlKCJAL3V0aWxzL2F1dGgiKTsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIF9kZWZhdWx0ID0gZXhwb3J0cy5kZWZhdWx0ID0gewogIG5hbWU6ICdBcnRpY2xlQ3JlYXRlJywKICBjb21wb25lbnRzOiB7CiAgICBFZGl0b3I6IF90aW55bWNlVnVlLmRlZmF1bHQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1cGxvYWRQYXRoOiBfc3RvcmFnZS51cGxvYWRQYXRoLAogICAgICBhcnRpY2xlOiB7CiAgICAgICAgdHlwZTogJzEnCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgdGl0bGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfmoIfpopjkuI3og73kuLrnqbonLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgY29udGVudDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+S/oeaBr+WGheWuueS4jeiDveS4uuepuicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICBlZGl0b3JJbml0OiB7CiAgICAgICAgbGFuZ3VhZ2U6ICd6aF9DTicsCiAgICAgICAgY29udmVydF91cmxzOiBmYWxzZSwKICAgICAgICBwbHVnaW5zOiBbJ2Fkdmxpc3QgYW5jaG9yIGF1dG9saW5rIGF1dG9zYXZlIGNvZGUgY29kZXNhbXBsZSBjb2xvcnBpY2tlciBjb2xvcnBpY2tlciBjb250ZXh0bWVudSBkaXJlY3Rpb25hbGl0eSBlbW90aWNvbnMgZnVsbHNjcmVlbiBociBpbWFnZSBpbWFnZXRvb2xzIGltcG9ydGNzcyBpbnNlcnRkYXRldGltZSBsaW5rIGxpc3RzIG1lZGlhIG5vbmJyZWFraW5nIG5vbmVkaXRhYmxlIHBhZ2VicmVhayBwYXN0ZSBwcmV2aWV3IHByaW50IHNhdmUgc2VhcmNocmVwbGFjZSBzcGVsbGNoZWNrZXIgdGFiZm9jdXMgdGFibGUgdGVtcGxhdGUgdGV4dGNvbG9yIHRleHRwYXR0ZXJuIHZpc3VhbGJsb2NrcyB2aXN1YWxjaGFycyB3b3JkY291bnQnXSwKICAgICAgICB0b29sYmFyOiBbJ3NlYXJjaHJlcGxhY2UgYm9sZCBpdGFsaWMgdW5kZXJsaW5lIHN0cmlrZXRocm91Z2ggYWxpZ25sZWZ0IGFsaWduY2VudGVyIGFsaWducmlnaHQgb3V0ZGVudCBpbmRlbnQgIGJsb2NrcXVvdGUgdW5kbyByZWRvIHJlbW92ZWZvcm1hdCBzdWJzY3JpcHQgc3VwZXJzY3JpcHQgY29kZSBjb2Rlc2FtcGxlJywgJ2hyIGJ1bGxpc3QgbnVtbGlzdCBsaW5rIGltYWdlIGNoYXJtYXAgcHJldmlldyBhbmNob3IgcGFnZWJyZWFrIGluc2VydGRhdGV0aW1lIG1lZGlhIHRhYmxlIGVtb3RpY29ucyBmb3JlY29sb3IgYmFja2NvbG9yIGZ1bGxzY3JlZW4nXSwKICAgICAgICBpbWFnZXNfdXBsb2FkX2hhbmRsZXI6IGZ1bmN0aW9uIGltYWdlc191cGxvYWRfaGFuZGxlcihibG9iSW5mbywgc3VjY2VzcywgZmFpbHVyZSkgewogICAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBibG9iSW5mby5ibG9iKCkpOwogICAgICAgICAgKDAsIF9zdG9yYWdlLmNyZWF0ZVN0b3JhZ2UpKGZvcm1EYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgc3VjY2VzcyhyZXMuZGF0YS5kYXRhLnVybCk7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGZhaWx1cmUoJ+S4iuS8oOWksei0pe+8jOivt+mHjeaWsOS4iuS8oCcpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGhlYWRlcnM6IGZ1bmN0aW9uIGhlYWRlcnMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgJ1gtRHRzLUFkbWluLVRva2VuJzogKDAsIF9hdXRoLmdldFRva2VuKSgpCiAgICAgIH07CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkge30sCiAgICBoYW5kbGVDYW5jZWw6IGZ1bmN0aW9uIGhhbmRsZUNhbmNlbCgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvcHJvbW90aW9uL2FydGljbGVMaXN0JwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVQdWJsaXNoOiBmdW5jdGlvbiBoYW5kbGVQdWJsaXNoKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAoMCwgX2FydGljbGUucHVibGlzaEFydGljbGUpKHRoaXMuYXJ0aWNsZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy4kbm90aWZ5LnN1Y2Nlc3MoewogICAgICAgICAgdGl0bGU6ICfmiJDlip8nLAogICAgICAgICAgbWVzc2FnZTogJ+WIm+W7uuaIkOWKnycKICAgICAgICB9KTsKICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgcGF0aDogJy9wcm9tb3Rpb24vYXJ0aWNsZUxpc3QnCiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF9lbGVtZW50VWkuTWVzc2FnZUJveC5hbGVydCgn5Lia5Yqh6ZSZ6K+v77yaJyArIHJlc3BvbnNlLmRhdGEuZXJybXNnLCAn6K2m5ZGKJywgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"names":["_article","require","_storage","_tinymceVue","_interopRequireDefault","_elementUi","_auth","name","components","Editor","data","uploadPath","article","type","rules","title","required","message","trigger","content","editorInit","language","convert_urls","plugins","toolbar","images_upload_handler","blobInfo","success","failure","formData","FormData","append","blob","createStorage","then","res","url","catch","computed","headers","getToken","created","init","methods","handleCancel","$router","push","path","handlePublish","_this","publishArticle","response","$notify","MessageBox","alert","errmsg","confirmButtonText"],"sources":["src/views/promotion/articleCreate.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n\n    <el-card class=\"box-card\">\n      <h3>新增信息公告</h3>\n      <el-form ref=\"article\" :rules=\"rules\" v-model=\"article\" label-width=\"150px\">\n        <el-form-item label=\"类型\" prop=\"type\">\n          <el-radio-group v-model=\"article.type\">\n            <el-radio :label=\"'1'\">公告</el-radio>\n            <el-radio :label=\"'0'\">通知</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"标题\" prop=\"title\">\n          <el-input v-model=\"article.title\"/>\n        </el-form-item>\n\n        <el-form-item label=\"内容\">\n          <editor :init=\"editorInit\" v-model=\"article.content\"/>\n        </el-form-item>\n      </el-form>\n    </el-card>\n\n    <div class=\"op-container\">\n      <el-button @click=\"handleCancel\">取消</el-button>\n      <el-button type=\"primary\" @click=\"handlePublish\">发布</el-button>\n    </div>\n\n  </div>\n</template>\n\n<style>\n  .el-card {\n    margin-bottom: 10px;\n  }\n\n  .el-tag + .el-tag {\n    margin-left: 10px;\n  }\n\n  .input-new-keyword {\n    width: 90px;\n    margin-left: 10px;\n    vertical-align: bottom;\n  }\n\n  .avatar-uploader .el-upload {\n    width: 145px;\n    height: 145px;\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n  }\n\n  .avatar-uploader .el-upload:hover {\n    border-color: #20a0ff;\n  }\n\n  .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 120px;\n    height: 120px;\n    line-height: 120px;\n    text-align: center;\n  }\n\n  .avatar {\n    width: 145px;\n    height: 145px;\n    display: block;\n  }\n</style>\n\n<script>\nimport { publishArticle } from '@/api/business/article'\nimport { createStorage, uploadPath } from '@/api/business/storage'\nimport Editor from '@tinymce/tinymce-vue'\nimport { MessageBox } from 'element-ui'\nimport { getToken } from '@/utils/auth'\n\nexport default {\n  name: 'ArticleCreate',\n  components: { Editor },\n\n  data() {\n    return {\n      uploadPath,\n      article: { type: '1' },\n      rules: {\n        title: [{ required: true, message: '标题不能为空', trigger: 'blur' }],\n        content: [{ required: true, message: '信息内容不能为空', trigger: 'blur' }]\n      },\n      editorInit: {\n        language: 'zh_CN',\n        convert_urls: false,\n        plugins: ['advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools importcss insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount'],\n        toolbar: ['searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample', 'hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen'],\n        images_upload_handler: function(blobInfo, success, failure) {\n          const formData = new FormData()\n          formData.append('file', blobInfo.blob())\n          createStorage(formData).then(res => {\n            success(res.data.data.url)\n          }).catch(() => {\n            failure('上传失败，请重新上传')\n          })\n        }\n      }\n    }\n  },\n  computed: {\n    headers() {\n      return {\n        'X-Dts-Admin-Token': getToken()\n      }\n    }\n  },\n  created() {\n    this.init()\n  },\n\n  methods: {\n    init: function() {\n    },\n    handleCancel: function() {\n      this.$router.push({ path: '/promotion/articleList' })\n    },\n    handlePublish: function() {\n      publishArticle(this.article).then(response => {\n        this.$notify.success({\n          title: '成功',\n          message: '创建成功'\n        })\n        this.$router.push({ path: '/promotion/articleList' })\n      }).catch(response => {\n        MessageBox.alert('业务错误：' + response.data.errmsg, '警告', {\n          confirmButtonText: '确定',\n          type: 'error'\n        })\n      })\n    }\n  }\n}\n</script>\n"],"mappings":";;;;;;;;AA4EA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AACA,IAAAE,WAAA,GAAAC,sBAAA,CAAAH,OAAA;AACA,IAAAI,UAAA,GAAAJ,OAAA;AACA,IAAAK,KAAA,GAAAL,OAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;iCAEA;EACAM,IAAA;EACAC,UAAA;IAAAC,MAAA,EAAAA;EAAA;EAEAC,IAAA,WAAAA,KAAA;IACA;MACAC,UAAA,EAAAA,mBAAA;MACAC,OAAA;QAAAC,IAAA;MAAA;MACAC,KAAA;QACAC,KAAA;UAAAC,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;QACAC,OAAA;UAAAH,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MACA;MACAE,UAAA;QACAC,QAAA;QACAC,YAAA;QACAC,OAAA;QACAC,OAAA;QACAC,qBAAA,WAAAA,sBAAAC,QAAA,EAAAC,OAAA,EAAAC,OAAA;UACA,IAAAC,QAAA,OAAAC,QAAA;UACAD,QAAA,CAAAE,MAAA,SAAAL,QAAA,CAAAM,IAAA;UACA,IAAAC,sBAAA,EAAAJ,QAAA,EAAAK,IAAA,WAAAC,GAAA;YACAR,OAAA,CAAAQ,GAAA,CAAAzB,IAAA,CAAAA,IAAA,CAAA0B,GAAA;UACA,GAAAC,KAAA;YACAT,OAAA;UACA;QACA;MACA;IACA;EACA;EACAU,QAAA;IACAC,OAAA,WAAAA,QAAA;MACA;QACA,yBAAAC,cAAA;MACA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,IAAA;EACA;EAEAC,OAAA;IACAD,IAAA,WAAAA,KAAA,GACA;IACAE,YAAA,WAAAA,aAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QAAAC,IAAA;MAAA;IACA;IACAC,aAAA,WAAAA,cAAA;MAAA,IAAAC,KAAA;MACA,IAAAC,uBAAA,OAAAtC,OAAA,EAAAsB,IAAA,WAAAiB,QAAA;QACAF,KAAA,CAAAG,OAAA,CAAAzB,OAAA;UACAZ,KAAA;UACAE,OAAA;QACA;QACAgC,KAAA,CAAAJ,OAAA,CAAAC,IAAA;UAAAC,IAAA;QAAA;MACA,GAAAV,KAAA,WAAAc,QAAA;QACAE,qBAAA,CAAAC,KAAA,WAAAH,QAAA,CAAAzC,IAAA,CAAA6C,MAAA;UACAC,iBAAA;UACA3C,IAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]}]}